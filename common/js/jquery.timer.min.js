/*
 MIT - http://jbrooksuk.mit-license.org
*/
(function(e) {
    jQuery.timer = function(a, d, b) {
        b = jQuery.extend({
            reset: 500
        }, b);
        a = a || b.reset;
        return d ? new function(a, d, f) {
            this.internalCallback = function() {
                d(c)
            };
            this.stop = function() {
                return 1 === this.state && this.id ? (clearInterval(c.id), this.state = 0, !0) : !1
            };
            this.reset = function(a) {
                c.id && clearInterval(c.id);
                a = a || b.reset;
                this.id = setInterval(e.proxy(this.internalCallback, this), a);
                this.state = 1;
                return !0
            };
            this.pause = function() {
                return c.id && 1 === this.state ? (clearInterval(this.id), this.state = 2, !0) : !1
            };
            this.resume = function() {
                return 2 ===
                    this.state ? (this.state = 1, this.id = setInterval(e.proxy(this.internalCallback, this), this.interval), !0) : !1
            };
            this.interval = a;
            f || (this.id = setInterval(e.proxy(this.internalCallback, this), this.interval), this.state = 1);
            var c = this
        }(a, d, b.disabled) : !1
    }
})(jQuery);